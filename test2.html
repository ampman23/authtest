<html>
	<head>
		<script type="text/javascript" src="https://jstest.authorize.net/v1/Accept.js" charset="utf-8"></script>
	</head>
	<body>
	
		<form>
			<button type="submit" onclick="sendPaymentDataToAnet();return false;">Pay</button>
		</form>
		
		<script>
			function sendPaymentDataToAnet() {
	var secureData = {}, authData = {}, cardData = {};
	
	cardData.cardNumber = "5555555555554444";//document.getElementById('CARDNUMBER_ID').value;
	cardData.month = "12";//document.getElementById('EXPIRY_MONTH_ID').value;
	cardData.year = "2020";//document.getElementById('EXPIRY_YEAR_ID').value;
	secureData.cardData = cardData;

	authData.clientKey = '6WrfHGS76gHW3v7btBCE3HuuBukej96Ztfn5R32G5ep42vne7MCWZtAucY';
	authData.apiLoginID = 'my_api_login_id';
	secureData.authData = authData;
	
	Accept.dispatchData(secureData, 'responseHandler');
			}

function responseHandler(response) {
    if (response.messages.resultCode === 'Error') {
        for (var i = 0; i < response.messages.message.length; i++) {
            console.log(response.messages.message[i].code + ':' + response.messages.message[i].text);
        }
    } else {
        useOpaqueData(response.opaqueData)
    }
}

function useOpaqueData(responseData) {
    // This is where you would set the data descriptor & data value to be posted back to your server
    console.log(responseData.dataDescriptor);
    console.log(responseData.dataValue);
    alert(responseData.dataValue);
}
		

		</script>

	</body>
</html>
